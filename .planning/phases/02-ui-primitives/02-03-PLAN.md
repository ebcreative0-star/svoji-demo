---
phase: 02-ui-primitives
plan: 03
type: execute
wave: 1
depends_on: []
files_modified: [src/components/dashboard/BudgetView.tsx]
autonomous: true
gap_closure: true
requirements: [PRIM-04]

must_haves:
  truths:
    - "BudgetView renders a Badge component for each budget category group label"
    - "Each Badge uses a semantic intent mapped from the budget category value"
  artifacts:
    - path: "src/components/dashboard/BudgetView.tsx"
      provides: "Badge usage for budget category display"
      contains: "BUDGET_CATEGORY_INTENT"
  key_links:
    - from: "src/components/dashboard/BudgetView.tsx"
      to: "src/components/ui/Badge.tsx"
      via: "import { Badge } from '@/components/ui'"
      pattern: "import.*Badge.*from.*@/components/ui"
    - from: "src/components/dashboard/BudgetView.tsx"
      to: "BUDGET_CATEGORY_INTENT mapping"
      via: "Badge intent prop lookup"
      pattern: "BUDGET_CATEGORY_INTENT\\["
---

<objective>
Add Badge component usage to BudgetView for budget category group labels, closing the single verification gap from Phase 2.

Purpose: PRIM-04 requires Badge for status indicators across ALL views including budget categories. GuestsView and ChecklistView already use Badge; BudgetView is the only view missing it.
Output: BudgetView.tsx updated with Badge import and BUDGET_CATEGORY_INTENT mapping.
</objective>

<execution_context>
@/Users/eb-vm/.claude/get-shit-done/workflows/execute-plan.md
@/Users/eb-vm/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/STATE.md
@.planning/phases/02-ui-primitives/02-VERIFICATION.md
@src/components/dashboard/BudgetView.tsx
@src/components/ui/Badge.tsx
@src/components/ui/index.ts
</context>

<interfaces>
<!-- Badge component interface (from src/components/ui/Badge.tsx) -->

```typescript
export interface BadgeProps extends VariantProps<typeof badgeVariants> {
  dot?: boolean;
  className?: string;
  children: React.ReactNode;
}
// intent: 'success' | 'warning' | 'danger' | 'info' | 'neutral'
// size: 'sm' | 'md'
```

<!-- Existing pattern in ChecklistView.tsx (lines 23-30) -->

```typescript
const CATEGORY_INTENT: Record<TaskCategory, 'success' | 'warning' | 'danger' | 'info' | 'neutral'> = {
  venue: 'info',
  attire: 'neutral',
  vendors: 'warning',
  guests: 'success',
  decor: 'info',
  ceremony: 'danger',
};
```

<!-- BudgetView BUDGET_CATEGORIES values to map -->

```typescript
// values: venue, catering, photo, music, flowers, attire, rings, decor, cake, transport, honeymoon, other
```
</interfaces>

<tasks>

<task type="auto">
  <name>Task 1: Add Badge to BudgetView category group headers</name>
  <files>src/components/dashboard/BudgetView.tsx</files>
  <action>
1. Add `Badge` to the existing import from `@/components/ui` (line 6):
   Change `import { Button, Card } from '@/components/ui';` to `import { Button, Card, Badge } from '@/components/ui';`

2. Add a `BUDGET_CATEGORY_INTENT` mapping constant after the `BUDGET_CATEGORIES` array (after line 36). Map each budget category value to a Badge intent:

```typescript
const BUDGET_CATEGORY_INTENT: Record<string, 'success' | 'warning' | 'danger' | 'info' | 'neutral'> = {
  venue: 'info',
  catering: 'warning',
  photo: 'info',
  music: 'neutral',
  flowers: 'success',
  attire: 'neutral',
  rings: 'warning',
  decor: 'info',
  cake: 'warning',
  transport: 'neutral',
  honeymoon: 'success',
  other: 'neutral',
};
```

3. In the category group header (line 243-249), wrap the category label text in a Badge. Replace the `<span className="font-medium">` that currently renders `{group.icon} {group.label}` with a Badge:

Change:
```tsx
<span className="font-medium">
  {group.icon} {group.label}
</span>
```

To:
```tsx
<Badge intent={BUDGET_CATEGORY_INTENT[group.value] ?? 'neutral'} size="sm">
  {group.icon} {group.label}
</Badge>
```

Keep the total amount span unchanged.

Do NOT change:
- The raw `<button>` for paid checkbox toggle (intentional deviation, documented)
- The raw `<select>` and `<input>` elements in the add-item form (not part of this gap)
- Any other structure or styling in BudgetView
  </action>
  <verify>
    <automated>grep -c "Badge" src/components/dashboard/BudgetView.tsx && grep -c "BUDGET_CATEGORY_INTENT" src/components/dashboard/BudgetView.tsx && grep "import.*Badge.*from.*@/components/ui" src/components/dashboard/BudgetView.tsx</automated>
  </verify>
  <done>BudgetView imports Badge from @/components/ui, defines BUDGET_CATEGORY_INTENT mapping for all 12 budget categories, and renders a Badge with semantic intent for each category group header label. No other changes to BudgetView.</done>
</task>

</tasks>

<verification>
1. `grep "import.*Badge.*from.*@/components/ui" src/components/dashboard/BudgetView.tsx` returns a match
2. `grep "BUDGET_CATEGORY_INTENT" src/components/dashboard/BudgetView.tsx` returns matches (definition + usage)
3. `grep "<Badge" src/components/dashboard/BudgetView.tsx` returns at least one match
4. `npx tsc --noEmit` passes without errors (type check)
</verification>

<success_criteria>
- Badge component is imported and used in BudgetView.tsx for category group labels
- Each budget category maps to a semantic Badge intent via BUDGET_CATEGORY_INTENT
- PRIM-04 success criterion 4 is now fully satisfied: Badge renders status indicators across ALL views (GuestsView RSVP, ChecklistView priority/category, BudgetView category)
</success_criteria>

<output>
After completion, create `.planning/phases/02-ui-primitives/02-03-SUMMARY.md`
</output>
